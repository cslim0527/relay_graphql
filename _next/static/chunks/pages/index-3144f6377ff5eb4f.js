(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9525:function(e,n,a){"use strict";a.r(n);var l,r,t,i,s=(l=[{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:20,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"keyword"}],t=[{kind:"Variable",name:"after",variableName:"cursor"},r={kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"query",variableName:"keyword"},{kind:"Literal",name:"type",value:"REPOSITORY"}],{fragment:{argumentDefinitions:l,kind:"Fragment",metadata:null,name:"RepoListPaginationQuery",selections:[{args:[{kind:"Variable",name:"cursor",variableName:"cursor"},r,{kind:"Variable",name:"keyword",variableName:"keyword"}],kind:"FragmentSpread",name:"RepoList_list"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"RepoListPaginationQuery",selections:[{alias:null,args:t,concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchResultItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stargazerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasStarred",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null}],type:"Repository",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:t,filters:["query","type"],handle:"connection",key:"SearchRepoList_list__search",kind:"LinkedHandle",name:"search"}]},params:{cacheID:"fc951ff3e111493bcead51424570ea4e",id:null,metadata:{},name:"RepoListPaginationQuery",operationKind:"query",text:"query RepoListPaginationQuery(\n  $cursor: String\n  $first: Int = 20\n  $keyword: String!\n) {\n  ...RepoList_list_VC7eL\n}\n\nfragment RepoList_list_VC7eL on Query {\n  search(query: $keyword, type: REPOSITORY, first: $first, after: $cursor) {\n    edges {\n      node {\n        __typename\n        ... on Repository {\n          id\n          name\n          stargazerCount\n          url\n          viewerHasStarred\n          shortDescriptionHTML\n        }\n        ... on Node {\n          __isNode: __typename\n          id\n        }\n      }\n      cursor\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n  }\n}\n"}});s.hash="028345916b7306e9199d21fdf27f704d",n.default=s},1161:function(e,n,a){"use strict";a.r(n);var l,r={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:20,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"keyword"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"cursor",direction:"forward",path:l=["search"]}],refetch:{connection:{forward:{count:"first",cursor:"cursor"},backward:null,path:l},fragmentPathInResult:[],operation:a(9525)}},name:"RepoList_list",selections:[{alias:"search",args:[{kind:"Variable",name:"query",variableName:"keyword"},{kind:"Literal",name:"type",value:"REPOSITORY"}],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"__SearchRepoList_list__search_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchResultItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stargazerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasStarred",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null}],type:"Repository",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};r.hash="028345916b7306e9199d21fdf27f704d",n.default=r},3328:function(e,n,a){"use strict";a.r(n);var l,r,t,i,s={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"starrableId"}],kind:"Fragment",metadata:null,name:"StarBtn_AddStar_Mutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"starrableId",variableName:"starrableId"}],kind:"ObjectValue",name:"input"}],concreteType:"AddStarPayload",kind:"LinkedField",name:"addStar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"starrable",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"stargazerCount",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"viewerHasStarred",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"StarBtn_AddStar_Mutation",selections:[{alias:null,args:r,concreteType:"AddStarPayload",kind:"LinkedField",name:"addStar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"starrable",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t,i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"951c9e667cf4ea92417c2c99968bcec6",id:null,metadata:{},name:"StarBtn_AddStar_Mutation",operationKind:"mutation",text:"mutation StarBtn_AddStar_Mutation(\n  $starrableId: ID!\n) {\n  addStar(input: {starrableId: $starrableId}) {\n    starrable {\n      __typename\n      stargazerCount\n      viewerHasStarred\n      id\n    }\n  }\n}\n"}};s.hash="9c2aef3affb51973e0f71bf965ecaa4e",n.default=s},2914:function(e,n,a){"use strict";a.r(n);var l,r,t,i,s={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"starrableId"}],kind:"Fragment",metadata:null,name:"StarBtn_RemoveStar_Mutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"starrableId",variableName:"starrableId"}],kind:"ObjectValue",name:"input"}],concreteType:"RemoveStarPayload",kind:"LinkedField",name:"removeStar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"starrable",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"stargazerCount",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"viewerHasStarred",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"StarBtn_RemoveStar_Mutation",selections:[{alias:null,args:r,concreteType:"RemoveStarPayload",kind:"LinkedField",name:"removeStar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"starrable",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t,i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"01a098995c0a55be3ceb6ad2b566eff1",id:null,metadata:{},name:"StarBtn_RemoveStar_Mutation",operationKind:"mutation",text:"mutation StarBtn_RemoveStar_Mutation(\n  $starrableId: ID!\n) {\n  removeStar(input: {starrableId: $starrableId}) {\n    starrable {\n      __typename\n      stargazerCount\n      viewerHasStarred\n      id\n    }\n  }\n}\n"}};s.hash="905e5ed380e01f16b8037235bcf75ef8",n.default=s},5694:function(e,n,a){"use strict";a.r(n);var l,r,t,i={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"keyword"}],kind:"Fragment",metadata:null,name:"pages_index_AppRepositoryListQuery",selections:[{args:[{kind:"Variable",name:"keyword",variableName:"keyword"}],kind:"FragmentSpread",name:"RepoList_list"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"pages_index_AppRepositoryListQuery",selections:[{alias:null,args:r=[{kind:"Literal",name:"first",value:20},{kind:"Variable",name:"query",variableName:"keyword"},{kind:"Literal",name:"type",value:"REPOSITORY"}],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchResultItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stargazerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasStarred",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null}],type:"Repository",abstractKey:null},{kind:"InlineFragment",selections:[t],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:["query","type"],handle:"connection",key:"SearchRepoList_list__search",kind:"LinkedHandle",name:"search"}]},params:{cacheID:"b91a19dac559167afbcd660a31756a29",id:null,metadata:{},name:"pages_index_AppRepositoryListQuery",operationKind:"query",text:"query pages_index_AppRepositoryListQuery(\n  $keyword: String!\n) {\n  ...RepoList_list_3IQ5bv\n}\n\nfragment RepoList_list_3IQ5bv on Query {\n  search(query: $keyword, type: REPOSITORY, first: 20) {\n    edges {\n      node {\n        __typename\n        ... on Repository {\n          id\n          name\n          stargazerCount\n          url\n          viewerHasStarred\n          shortDescriptionHTML\n        }\n        ... on Node {\n          __isNode: __typename\n          id\n        }\n      }\n      cursor\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n  }\n}\n"}};i.hash="67b9987734a14378a4a59af624a4a7c4",n.default=i},1826:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return A}});var l,r,t,i,s=a(29),o=a(7794),u=a.n(o),d=a(7294),c=a(2578),m=a(9008),g=a.n(m),p=a(9521),y=a(3808),f=a(2640),k=a(5893),$=void 0!==l?l:l=a(3328),S=void 0!==r?r:r=a(2914),h=function(e){var n,a,l=e.starrableId,r=e.hasStarred,t=e.stargazerCount,i=(0,d.useState)(r),o=i[0],m=i[1],g=(0,d.useState)(t),p=g[0],y=g[1],h=(0,c.useMutation)($),b=(0,f.Z)(h,2),C=b[0],x=b[1],F=(0,c.useMutation)(S),K=(0,f.Z)(F,2),L=K[0],I=K[1],w=function(e){var n=e.stargazerCount;m(e.viewerHasStarred),y(n)},R=(n=(0,s.Z)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:C({variables:{starrableId:l},onCompleted:function(e){var n,a=e.addStar.starrable;w({stargazerCount:a.stargazerCount,viewerHasStarred:a.viewerHasStarred})}});case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),N=(a=(0,s.Z)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:L({variables:{starrableId:l},onCompleted:function(e){var n,a=e.removeStar.starrable;w({stargazerCount:a.stargazerCount,viewerHasStarred:a.viewerHasStarred})}});case 1:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)});return o?o?(0,k.jsxs)(_,{type:"button",onClick:N,disabled:I,children:[(0,k.jsx)("span",{children:"⭐"}),(0,k.jsx)("span",{children:p})]}):null:(0,k.jsxs)(v,{type:"button",onClick:R,disabled:x,children:[(0,k.jsx)("span",{children:"⭐"}),(0,k.jsx)("span",{children:p})]})},b=(0,p.ZP)(y.S).withConfig({displayName:"StarBtn__StyledCommonStarBtn",componentId:"sc-1ir3z5w-0"})(["font-size:0.9rem;&:active{background-color:#fdde7c;}&:disabled{background-color:#fff;}span{&:first-child{font-size:12px;margin-right:8px;}&:last-child{font-size:14px;}}"]),v=(0,p.ZP)(b).withConfig({displayName:"StarBtn__StyledStarBtn",componentId:"sc-1ir3z5w-1"})(["background-color:#fff;"]),_=(0,p.ZP)(b).withConfig({displayName:"StarBtn__StyledStarredBtn",componentId:"sc-1ir3z5w-2"})(["background-color:#fffbb8;border-color:#ffaa00;"]),C=function(e){var n=e.details;return(0,k.jsxs)(x,{children:[(0,k.jsx)("a",{href:null==n?void 0:n.url,target:"_blank",rel:"noreferrer",children:null==n?void 0:n.name}),(0,k.jsx)("p",{dangerouslySetInnerHTML:{__html:null==n?void 0:n.shortDescriptionHTML}}),(0,k.jsx)(h,{starrableId:null==n?void 0:n.id,hasStarred:null==n?void 0:n.viewerHasStarred,stargazerCount:null==n?void 0:n.stargazerCount})]},null==n?void 0:n.id)},x=p.ZP.li.withConfig({displayName:"RepoItem__StyledRepoItem",componentId:"sc-1expuqe-0"})(["margin-bottom:40px;&:last-child{margin-bottom:0;}a{color:inherit;display:inline-block;font-size:1.5rem;font-weight:bold;margin-bottom:5px;text-decoration:none;}p{margin-bottom:10px;}"]),F=function(e){var n=e.children;return(0,k.jsx)(K,{children:n})},K=p.ZP.div.withConfig({displayName:"CenteredText__StyledCenteredBlock",componentId:"sc-74yxi6-0"})(["text-align:center;"]),L=void 0!==t?t:t=a(1161),I=function(e){var n=e.initialQueryRef,a=(0,c.usePaginationFragment)(L,n),l=a.data,r=a.loadNext,t=a.hasNext,i=a.isLoadingNext,s=l.search.edges;return!s||s.length<1?(0,k.jsx)(F,{children:"레포지터리를 찾을 수 없습니다 \uD83D\uDE40"}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("ul",{children:s.map(function(e){var n;return(0,k.jsx)(C,{details:null==e?void 0:e.node},null==e?void 0:null===(n=e.node)||void 0===n?void 0:n.id)})}),(0,k.jsx)(w,{children:(0,k.jsx)(R,{type:"button",disabled:!t||i,onClick:function(){return r(20)},children:i?"...불러오는중...":"더 보기"})})]})},w=p.ZP.div.withConfig({displayName:"RepoList__StyledBtnBox",componentId:"sc-vftumq-0"})(["margin-top:10px;"]),R=(0,p.ZP)(y.S).withConfig({displayName:"RepoList__StyledMoreBtn",componentId:"sc-vftumq-1"})(["color:#333;font-size:0.9rem;border-color:#fdde7c;background-color:#fce864;&:disabled{border-color:#d9d9d9;background-color:#e8e8e8;}"]),N=function(e){var n=e.children;return(0,k.jsx)(B,{children:n})},B=p.ZP.div.withConfig({displayName:"Container__StyledContainer",componentId:"sc-a7jbun-0"})(["width:1024px;margin:0 auto;padding:0 16px 80px 0;"]),j=function(e){var n=e.handler,a=e.isLoading,l=(0,d.useState)(""),r=l[0],t=l[1],i=function(){return r.length<2},s=function(){if(console.log("[handleSearchEvent]"),i()){alert("최소 2글자 이상으로 검색해주세요.");return}n&&n(r)},o=function(e){if("Enter"===e.key){if(i()){alert("최소 2글자 이상으로 검색해주세요.");return}n&&n(r)}},u=function(e){t(e.target.value)};return(0,k.jsxs)(P,{children:[(0,k.jsx)(D,{type:"text",onChange:u,onKeyUp:o}),(0,k.jsx)(T,{type:"button",onClick:s,disabled:a,children:"검색"})]})},P=p.ZP.article.withConfig({displayName:"SearchBox__StyledSearchBox",componentId:"sc-50g94w-0"})(["position:sticky;top:0;height:120px;display:flex;align-items:center;justify-content:center;margin-bottom:40px;gap:5px;background-color:#fff;"]),D=p.ZP.input.withConfig({displayName:"SearchBox__StyledSearchInput",componentId:"sc-50g94w-1"})(["border-radius:4px;padding:0.4rem 0.6rem;border:1px solid #e8e8e8;flex:1;max-width:40%;"]),T=(0,p.ZP)(y.S).withConfig({displayName:"SearchBox__StyledSearchBtn",componentId:"sc-50g94w-2"})(["color:#666;font-size:0.9rem;"]),z=void 0!==i?i:i=a(5694),A=function(){var e,n=(0,d.useState)(void 0),a=n[0],l=n[1],r=(0,d.useState)(""),t=r[0],i=r[1],o=(0,c.useLazyLoadQuery)(z,{keyword:t}),m=(e=(0,s.Z)(u().mark(function e(n){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i(n);case 1:case"end":return e.stop()}},e)})),function(n){return e.apply(this,arguments)});return(0,d.useEffect)(function(){o&&l(o)},[o]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(g(),{children:[(0,k.jsx)("title",{children:"그린랩스"}),(0,k.jsx)("meta",{name:"description",content:"Greenlabs Front-End Interview"}),(0,k.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,k.jsxs)(N,{children:[(0,k.jsx)(j,{handler:m}),""===t?(0,k.jsx)(F,{children:"레포지터리 이름으로 검색하세요 \uD83D\uDD0D"}):(0,k.jsx)(d.Suspense,{fallback:(0,k.jsx)(F,{children:"...로딩중..."}),children:(0,k.jsx)(I,{initialQueryRef:a})})]})]})}},8312:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(1826)}])}},function(e){e.O(0,[628,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);